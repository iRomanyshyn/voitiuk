{% assign locale_key = page.lang | default: site.locale | default: 'en' %}
{% assign short_locale = locale_key | split: '-' | first %}
{% assign navigation_data = site.data.navigation[locale_key] | default: site.data.navigation[short_locale] | default: site.data.navigation.en %}
{% assign sitetext_data = site.data.sitetext[locale_key] | default: site.data.sitetext[short_locale] | default: site.data.sitetext.en %}

{% assign menu_label = 'Menu' %}
{% if short_locale == 'uk' %}
  {% assign menu_label = 'Меню' %}
{% elsif short_locale == 'de' %}
  {% assign menu_label = 'Menü' %}
{% endif %}

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand js-scroll-trigger" href="#page-top">
      {%- if site.logo -%}
        <img height="{{ site.logo.height | default: 52 }}" src="{{ site.logo.path }}"/>
      {%- else -%}
        {{ site.title }}
      {%- endif -%}
    </a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="{{ menu_label }}">
      {{ menu_label }}
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav text-uppercase ml-auto">
      {% for link in navigation_data.nav %}
        <li class="nav-item">
          {%- if link.url -%}
            <a class="nav-link js-scroll-trigger" href="{{ link.url }}">{{ link.title }}</a>
          {%- elsif link.section -%}
            <a class="nav-link js-scroll-trigger" href="#{{ link.section }}">{{ link.title }}</a>
          {%- else -%}
            <a class="nav-link js-scroll-trigger" href="#">{{ link.title }}</a>
          {%- endif -%}
        </li>
      {% endfor %}
      </ul>
    </div>
  </div>
</nav>
<!-- End Navigation -->

<!-- Header -->
<header class="masthead">
  <div class="container">
    <div class="intro-text">
    {%- if sitetext_data.header.title -%}
      <div class="intro-lead-in">{{ sitetext_data.header.title | markdownify }}</div>
    {%- endif -%}
    {%- if sitetext_data.header.text -%}
      <div class="intro-heading text-uppercase">{{ sitetext_data.header.text | markdownify }}</div>
    {%- endif -%}
    {%- if sitetext_data.header.button -%}
      <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="{{ sitetext_data.header.buttonlink }}">{{ sitetext_data.header.button }}</a>
    {%- endif -%}
    </div>
  </div>
</header>
<!-- End Header -->
